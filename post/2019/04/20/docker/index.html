<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Docker | Hugo Ivy</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Docker</span></h1>

<h2 class="date">2019/04/20</h2>
</div>

<main>


<p>Docker containers</p>

<h3 id="install-docker-ce-community-edition">Install Docker CE(Community Edition)</h3>

<pre><code>$ sudo yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2$ sudo yum-config-manager \
 
$ sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo

$ sudo yum install docker-ce docker-ce-cli containerd.io

$ sudo systemctl start docker
$ sudo systemctl enable docker (start at boot)
$ sudo docker run hello-world (pulls image from docker libaray and indicates docker is working okay)
</code></pre>

<p>Above command displays the below</p>

<pre><code>Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
1b930d010525: Pull complete
Digest: sha256:92695bc579f31df7a63da6922075d0666e565ceccad16b59c3374d2cf4e8e50e
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash
</code></pre>

<pre><code>$ sudo systemctl disable docker (stop running at boot)
</code></pre>

<h3 id="uninstall-docker">Uninstall Docker</h3>

<pre><code>sudo yum remove docker-ce
sudo rm -rf /var/lib/docker
</code></pre>

<h3 id="some-docker-commands">Some Docker Commands</h3>

<pre><code>docker ps
docker version
</code></pre>

<h3 id="docker-pull-image">Docker Pull Image</h3>

<pre><code>docker pull debian:latest
CTRL -C during pull cancels the pull
docker images (displays the images)
docker container run debian (will exit since no input has been provideed)
but below command will work
docker container run -it debian /bin/bash

docker container rm c55680af670c (will remove particular docker container)

</code></pre>

<pre><code>#stop all containers:
docker stop $(docker ps -a -q)

#stop all containers by force
docker kill $(docker ps -q)

#remove all containers
docker rm $(docker ps -a -q)

#remove all docker images
docker rmi $(docker images -q)

#purge the rest
docker system prune --all --force --volumes
</code></pre>

<h3 id="get-a-ubuntu-version-16">get a ubuntu version 16</h3>

<p>```
sudo apt-get install docker.io</p>

<p>sudo docker
sudo docker pull ghost</p>

<p>sudo docker run -d -p 80:2368 ghost</p>

<p>sudo docker ps</p>

<p>sudo apt install docker-compose</p>

<p>docker-compose up -d
docker-compose down</p>

<p>version: &lsquo;2&rsquo;
services:
  web:
    restart: always
    image: ghost
    ports:
      - 80:2368
    volumes:
      - /home/ubuntu/ghost:/var/lib/ghost/content
    environment:
        NODE_ENV: production
        url: <a href="http://192.168.56.101">http://192.168.56.101</a></p>

<p><img src="/images/docker.png" alt="Image Title" /></p>

</main>

  <footer>
  
  
  <hr/>
  &copy; Blog of KK
  
  </footer>
  </body>
</html>

